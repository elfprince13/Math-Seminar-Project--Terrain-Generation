 
\documentclass{article}

    \usepackage{fullpage}          %This will give you the standard 1in. margins, 12pt font, single spaced, page numbers, ect.  
    \usepackage{url}                 %This is intended if you have a website in the bibliography
    \usepackage{graphicx}         %This is if you want to include a picture in your document


    \usepackage{amsmath, amsthm, amssymb}
    \usepackage{epsfig}
    \usepackage{pslatex}
     

    \title{Techniques for Fractal Terrain Generation}
    \author{Krista Bird \and Thomas Dickerson \and Jessica George}
    \begin{document}
    \maketitle

     \begin{abstract}
     In this paper we present various methods of fractal terrain generation. We discuss the relative advantages and disadvantages of each method. Methods presented include: midpoint displacement, Fourier space manipulation of gaussian noise, multi fractal methods, and their respective variations. 
     \end{abstract}
     
     	\section{Introduction}
		The work described in this paper aims to describe different methods and algorithms that are used for artificial fractal landscape generation.  The goal in generating these landscapes is to make them look as realistic as possible. To make a terrain look realistic there are many different aspects that need to be taken into consideration. Some of these aspects are: hills and valleys, color, trees and other plants. The focus of this paper is going to be on different methods used to generate the terrain and how realistic they look based on the hills and valleys. The algorithms discussed in this paper all have varying levels of accuracy when it comes to representing the topological aspect of the landscape naturally. 

Fractal geometry is a branch of mathematics that studies irregular shapes in the real world. The general definition of a fractal is an infinitely, self-similar, iterated, and detailed mathematical shape with a non-integer dimension. More simply, fractals are shapes that have self-similar patterns, meaning that they appear to look the same far away as they do up close. Fractals can first be seen in mathematics as early as the 17th century with the idea of recursion.  The word ‘fractal’ was not introduced until 1975 by a mathematician named Benoit Mandelbrot. It is derived from the Latin word fractus, which means broken or shattered glass. 

Fractals were first used in terrain generation in 1967. Benoit Mandlebrot was the mathematician to first propose it. Mandlebrot proposed a question about how long the coastline of Britain was.  This simple question lead to many different and varying results. This is because it depended on the scale that the person was using to measure the coastline. The farther out they zoomed and the smaller scale that they used resulted in a greater result. The answer to the question is that the coastline of Britain is not measurable because it is not one-dimensional. It is a fractal. (Stanger)

Fractals are used in landscape generation because they are self-similar and have a non-integer dimension. Being self-similar means that the fractal is going to appear basically the same no matter the level of magnification. So fractals are able to produce a landscape that is going to look like a terrain no matter the level of magnification. Fractals are also optimal for landscape generation because of their non-integer dimensions. This means that fractals have a dimension that is between two whole numbers. A fractal will vary between these two whole numbers depending on how much space it needs as it twists and curves. This means that a fractal that is closing in on two dimensions is going to appear as a large hill with small mounds and a fractal approaching three dimensions is going to resemble a rougher terrain with slightly smaller hills. (Patrzalek)

	The first method that this paper explores is the Midpoint Displacement Algorithm. This algorithm is the simplest algorithm for generating terrain. The Midpoint Displacement algorithm was first discovered 

	Another method that is similar to, but not exactly the same as, the Midpoint Displacement Algorithm is the Diamond Square Algorithm. Alain Fournier, Don Fussell, and Loren Carpenter at SIGGRAPH first discovered the Diamond Square Algorithm in 1982. SIGGRAPH is stands for Special Interest Group on GRAPHics and the Interactive Techniques. It is an annual conference on computer graphics. Gavin S. P. Miller revisited this algorithm in 1986 at the same conference. This is when it was discovered that the algorithm was “flawed”. The algorithm produces vertical and horizontal creases in the generated landscape. (Martz)

	Both the Diamond-Square Algorithm and the Midpoint Displacement Algorithm are going to use multiple iterations of random values to create a landscape. This is going to apply the iteration at a smaller scale each time through. It will then take the random number as an altitude to produce the resulted landscape. 

	The second method that is discussed is the paper is the Fourier Transform Algorithm. Cooley and Turkey first discovered the algorithm in 1965 though, Gauss initially discovered it in 1805. The Fast Fourier transformation can be used to create fractal landscapes. This is going to create a landscape using a frequency domain. The landscape generated by this algorithm is going to take in the random numbers and model their frequencies to create a landscape. (Kareem)
	
	The last algorithm that is explored in this paper is the multifractal technique. A multifractal set is a set of fractals that can be divided up into multiple subsets, each having their own dimension. A multifractal system is different from a fractal system because it has more than just one exponent. A multifractal system is used when more than one exponent is needed to describe the dynamics of an object. This can be seen in terrain generation. They allow for a more precise and natural looking landscape as the magnification is increased. 

	In the remainder of this paper we will explore the three methods mentioned above: the Midpoint Displacement Algorithm (and the Diamond Square Algorithm), the Fast Fourier Transformation Algorithm, and the Multifractal technique, in more detail. We will also discuss the implementation of each of these methods and examine the resulting landscapes. 
	

	\section{Midpoint Displacement Method}
		Generating fractal terrains by midpoint displacement is a relatively straightforward method for generating artificial terrain with realistic features. The dimensions of the terrain must be a square with sides of length $2^{N}+1$, so that each sub-square has an exact middle lying on a gridpoint. Given a heightfield,
		\begin{equation}
		T = \left[ \begin{matrix}
		T_{0,0} & \ldots & T_{0,2^{N},} \\
		\vdots  &  \ddots & \vdots \\
		T_{2^{N},0} & \ldots & T_{2^{N},2^{N}}
		\end{matrix} \right]
		\end{equation}
then,
		\begin{equation}
			T_{k \times 2^{n},0} = \frac{T_{(k+1) \times 2^{n},0} + T_{(k-1) \times 2^{n},0}}{2} + A \times R \times 2^{-H \times n}
		\end{equation}
where
		\begin{equation}
			k \equiv (2 \times l)+1 \pmod{2^{N-n}}
		\end{equation}
for $n < N$ and $l \in \mathbb{Z}$. H is a smoothing parameter, A is an amplitude parameter, and R is a random number from a uniform distribution between -1 and 1.
	\subsection{Variations: Diamands and Squares}
		One criticism of the realism of the terrain generated by Midpoint Displacement is that it sometimes leaves square-shaped artifacts in the terrain. The Diamonds and Squares method attempts to alleviate this by alternating calculated values to square and diamond patterned midpoints. 
	\subsection{Implementation Challenges}
		Maple has a very small limit on stack space for use by recursively defined functions, so the algorithm must be rewritten as an iterative one.
		Additionally, Maple uses 1-indexed arrays, which makes a few formulas slightly bulkier.

	\section{Using the Fast Fourier Transform to Generate Fractal Terrain} 
	\label{sec:FFT}
	In 1965, J.W. Cooley and J.W. Tukey published the fast Fourier transform algorithm. This algorithm made it possible to calculate the discrete Fourier transform using multiple operations proportional to $NlogN.$ The fast Fourier transform makes it possible for us to generate a fractal terrain. A Fourier transform is another method to generate fractal terrains. This is generally used to generate older terrains with a flatter landscape. The landscape created by a Fourier transform can be tiled. The Fourier transform enables us to express random noise as a function of sine and cosine functions, and it converts the function to a frequency domain. The result is a fractal landscape with smooth rolling features rather than ridges and peaks that can be generated using other methods. Thus, the landscape is a sum of the sine and cosine waves at different frequencies.
	
	Unlike many other processes for fractal terrain generation, the Fourier method is not an iterative process (Stanger). Initially, we begin using a random Gaussian noise (other types of noise can be used here as well), which is a two dimensional grid of discrete random values. Using Maple, we are able to apply the fast Fourier transform (FFT), which preforms a discrete Fourier transform (DFT). A two dimensional discrete Fourier transform for and "$N$x$M$ grid in $x$ and $y$ is 
	$$F(u,v)=1/NM\displaystyle\sum\limits_{x=0}^{N-1} \displaystyle\sum\limits_{y=0}^{M-1} f(x,y)e^{-2\pi i(xu/N+yu/M)},$$
	
	and the inverse is
	
	$$f(x,y)=\displaystyle\sum\limits_{u=0}^{N-1} \displaystyle\sum\limits_{v=0}^{M-1} F(u,v)e^{2\pi i(xu/N+yv/M)}.$$

The FFT allows us to decompose the random noise into the sum of the sine and cosine functions. In Fourier space, the noise is broken into cells. Within each cell, we can find the magnitude of the wave with that frequency. These magnitudes are then be converted to the frequency domain. In this domain, each frequency is a complex number. This is all done through the use of the FFT algorithm.
	
	Once the values are in the frequency domain, we must scale these frequencies because we will have some that are very high and some that are very low. We do this using a frequency filter of the form $1/fr$. The $f$ is the frequency represented by that value and the $r$ is a roughness parameter. After we have scaled the frequencies we can apply an inverse fast Fourier transform in order to generate a fractal landscape that is the sum of the waves at different frequencies. This is where the landscape gets its get the "rolling" quality from (Kareem).We apply this FFT to a two diminutional random noise, but we are able to view the data in three dimensions. The result is a fractal landscape. There are no artificial ridges or peaks and the landscape is easily tiled.
	
	The characteristics of the landscape are determined by the random seed number. How rough or smooth the surface of the landscape is depends on the value you scale the frequencies by. The higher the number you scale by, the smoother the landscape. The smaller the scaling number, the rougher the landscape. Though we can change the relative roughness of the terrain, the landscape will have a smooth surface in comparison to the previous methods we described.  
	~\cite{Jo09, PaperII}.
     
    \bibliography{terrainbib}
    \bibliographystyle{plain}

     

    \end{document}

